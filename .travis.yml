# This uses newer and faster docker based build system
sudo: false
language: php
services: mysql
notifications:
  on_success: never
  on_failure: change
php:
  - 7.2
install:
  - wget -O phpunit https://phar.phpunit.de/phpunit-7.phar
  - chmod +x phpunit
env:
    - WP_PROJECT_TYPE=plugin WP_VERSION=latest WP_MULTISITE=0 WP_TEST_URL=http://localhost:12000 WP_TEST_USER=test WP_TEST_USER_PASS=test
before_script:
  # Install composer packages before trying to activate themes or plugins
  # - composer install
  - git clone https://github.com/wilokecom/wordpress-test-travis.git wordpress-test-travis
  - bash bin/install-wp-tests.sh wp_test root '' 127.0.0.1 latest
  - gem install redmine-installer
script: phpunit --version
